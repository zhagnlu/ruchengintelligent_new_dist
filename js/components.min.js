class ComponentLoader{constructor(){this.components={},this.isMobile=window.innerWidth<=768,this.resizeTimer=null,this.handleResize=()=>{clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(()=>{const e=window.innerWidth,t=this.isMobile;this.isMobile=e<=768,this.onMobileStateChange&&t!==this.isMobile&&this.onMobileStateChange(this.isMobile,t)},150)}}initMobileMenu(){const e=document.querySelector(".menu-toggle"),t=document.querySelector(".nav-menu");if(e&&t){const i=()=>{t.classList.remove("active"),e.innerHTML="&#9776;",t.querySelectorAll(".nav-dropdown").forEach(e=>{e.classList.remove("active")})};e.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),t.classList.toggle("active"),t.classList.contains("active")?e.innerHTML="&#10005;":e.innerHTML="&#9776;"});const n=document.querySelector(".menu-overlay");n&&n.addEventListener("click",()=>{i()}),t.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{this.isMobile&&i()})}),document.addEventListener("click",n=>{t.contains(n.target)||e.contains(n.target)||i()}),this.onMobileStateChange=(e,t)=>{t&&!e&&i()},window.addEventListener("resize",this.handleResize)}}initDropdowns(){document.querySelectorAll(".nav-dropdown").forEach(e=>{const t=e.querySelector(".dropdown-toggle"),i=e.querySelector(".dropdown-menu");t&&i&&(e.addEventListener("mouseenter",()=>{this.isMobile||(i.style.display="block",i.style.opacity="1",i.style.visibility="visible")}),e.addEventListener("mouseleave",()=>{this.isMobile||(i.style.display="none",i.style.opacity="0",i.style.visibility="hidden")}))})}setActivePage(){const e=window.location.pathname.split("/").pop()||"index.html";document.querySelectorAll(".nav-link").forEach(t=>{const i=t.getAttribute("href"),n=i?i.split("/").pop():"";(n===e||""===e&&"index.html"===n)&&t.classList.add("active")})}initTranslator(){"undefined"!=typeof Translator&&setTimeout(()=>{const e=new Translator({defaultLang:"en",batchSize:3,delay:100,elements:"[data-translate]"});window.translator=e},100)}init(){this.initMobileMenu(),this.initDropdowns(),this.setActivePage(),this.initTranslator()}async loadAll(){this.init()}}document.addEventListener("DOMContentLoaded",()=>{(new ComponentLoader).init()});