class ComponentLoader{constructor(){this.components={}}async loadComponent(e,t){try{const n=await fetch(`/components/${e}.html`),o=(await n.text()).replace(/<!--.*?-->/gs,"").trim(),a=document.querySelector(t);a&&(a.innerHTML=o,"header"===e&&this.initNavigation()),this.components[e]=o}catch(e){}}initNavigation(){const e=document.querySelector(".menu-toggle"),t=document.querySelector(".nav-menu"),n=document.querySelector(".menu-overlay");if(e&&t){const o=()=>{t.classList.contains("active")?e.innerHTML="&#10005;":e.innerHTML="&#9776;"};e.addEventListener("click",e=>{e.stopPropagation(),t.classList.toggle("active"),o()}),n&&n.addEventListener("click",()=>{t.classList.remove("active"),o()}),document.addEventListener("click",n=>{!t.classList.contains("active")||t.contains(n.target)||e.contains(n.target)||(t.classList.remove("active"),o())}),t.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{window.innerWidth<=768&&(t.classList.remove("active"),o())})})}document.querySelectorAll(".nav-dropdown").forEach(e=>{const t=e.querySelector(".dropdown-toggle"),n=e.querySelector(".dropdown-menu");t&&n&&(window.innerWidth>768?(e.addEventListener("mouseenter",()=>{n.style.display="block",n.style.opacity="1",n.style.visibility="visible"}),e.addEventListener("mouseleave",()=>{n.style.display="none",n.style.opacity="0",n.style.visibility="hidden"})):t.addEventListener("click",e=>{e.preventDefault(),n.style.display="block"===n.style.display?"none":"block"}))}),this.setActivePage()}setActivePage(){const e=window.location.pathname.split("/").pop()||"index.html";document.querySelectorAll(".nav-link").forEach(t=>{const n=t.getAttribute("href");(n===e||"index.html"===e&&"index.html"===n)&&t.classList.add("active")})}async loadHeadIncludes(){try{const e=await fetch("/components/head-includes.html"),t=await e.text(),n=document.createElement("div");n.innerHTML=t;const o=document.head;Array.from(n.children).forEach(e=>{o.querySelector(`[href="${e.getAttribute("href")}"]`)||o.querySelector(`[name="${e.getAttribute("name")}"]`)||o.appendChild(e.cloneNode(!0))})}catch(e){}}async loadAll(){await this.loadHeadIncludes(),await Promise.all([this.loadComponent("header","#header-placeholder"),this.loadComponent("footer","#footer-placeholder")]),this.initTranslator()}initTranslator(){"undefined"!=typeof Translator&&setTimeout(()=>{const e=new Translator({defaultLang:"en",batchSize:3,delay:100,elements:"[data-translate]"});window.translator=e},600)}}document.addEventListener("DOMContentLoaded",()=>{(new ComponentLoader).loadAll()});